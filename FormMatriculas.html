<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Matricula Manual</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="description" content="Registro de Matriculas"/>
        <meta name="author" content="Jose Meza"/>
        <meta name="ProjectName" content="EscuelaT"/>
        <link href="css/styles.css" rel="stylesheet" />
        <!-- Bootstrap Core CSS -->
        <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css"/>
        <link href="datatables/css/dataTables.bootstrap.css" rel="stylesheet" type="text/css"/>

        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/jquery-ui.js"></script>
        <script type="text/javascript" src="js/Validator.js"></script>
        <script type="text/javascript" src="js/localStorageData.js"></script>
        <script type="text/javascript" src="js/setWebServicePath.js"></script>
        <script type="text/javascript" src="js/JsMaxFramework.js"></script>
        <script type="text/javascript" src="js-forms/Matriculas.js"></script>
    </head>
    <body>

        <div class="panel panel-primary" style="width: 80% !important;">
            <div class="panel-heading">Matricula Manual</div>
            <div class="panel-body">

                <form style="width: 100% !Important;" name="form0" id="form0"  method="POST" autocomplete="off" url="Base/Controllers/MatriculasController.php"  model="MatriculasApp" findBy="id_matricula" statusfield="status_matricula" mainform="true" > 
                    <div>
                        <div class="panel panel-default">
                            <div class="panel-heading">Estudiante</div>
                            <div class="panel-body" >
                                <div class="row">
                                    <div class="col-sm-4">
                                        <label>Codigo</label>
                                        <input type="text" name="id_estudiante" id="id_estudiante" value="" maxlength="24" required="required" class="form-control" url="Base/Controllers/FindEstudiantesController.php" model="ObservadorEstudianteApp">
                                    </div>
                                    <div class="col-sm-8">
                                        <label>Nombre del Estudiante</label>
                                        <input type="text" name="nombrecompleto_estudiante" id="nombrecompleto_estudiante" value="" maxlength="200" class="form-control" title="Nombre del Estudiante" readonly="readonly" >
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-heading">Datos de Matricula</div>
                            <div class="panel-body" >
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label>Sede</label>
                                        <select id="id_sede" name="id_sede" selected="NULL" required="required" model="SedesApp" colname="nombre_sede" colvalue="id_sede" url="Base/Controllers/GetComboboxSedes.php" class="form-control" style="width: 100%;" onchange="setFindbyCombobox('id_jornada', this.id, this.value); setFindbyCombobox('id_grupo', this.id, this.value, 1);">
                                            <option selected="selected" value="NULL">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Jornada</label>
                                        <select id="id_jornada" name="id_jornada" selected="NULL" required="required" model="JornadasApp" colname="nombre_jornada" colvalue="id_jornada" url="Base/Controllers/GetComboboxJornadas.php" class="form-control" style="width: 100%;">
                                            <option selected="selected" value="NULL">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Programa</label>
                                        <select id="id_programa" name="id_programa" list="id_programa" selected="NULL" required="required" model="ProgramasApp" colname="nombre_programa" colvalue="id_programa" url="Base/Controllers/GetComboboxProgramas.php" class="form-control" style="width: 100%;" onchange="setFindbyCombobox('id_planestudio', this.id, this.value); setNameFromDataList(this, null, 'valor_matricula'); CalcularValores();">
                                            <option selected="selected" value="NULL">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Plan Estudios</label>
                                        <select id="id_planestudio" name="id_planestudio" selected="NULL" required="required" model="PlanEstudiosApp" colname="id_planestudio" colvalue="nombre_planestudio" url="Base/Controllers/GetComboboxPlanEstudios.php" class="form-control" style="width: 100%;" onchange="setFindbyCombobox('numgrado_programa', this.id, this.value);">
                                            <option selected="selected" value="NULL">Ninguna</option>
                                        </select>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label>Año</label>
                                        <select id="id_periodo" name="id_periodo" required="required" selected="NULL" model="PeriodosAnualesApp" colname="id_periodo" colvalue="id_periodo" url="Base/Controllers/GetComboboxPeriodos.php" class="form-control" style="width: 100%;">
                                            <option selected="selected" value="">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Grado</label>
                                        <select id="numgrado_programa" name="numgrado_programa"  model="PlanEstudioDetalleApp" colname="numgrado_programa" colvalue="numgrado_programa" url="Base/Controllers/GetComboboxGrados.php" class="form-control" style="width: 100%;" onchange="setFindbyCombobox('id_grupo', this.id, this.value);">
                                            <option disabled="disabled" selected="selected" value="0">Ninguno</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Grupo</label>
                                        <select id="id_grupo" name="id_grupo" selected="NULL" required="required" model="GruposApp" colname="id_grupo" colvalue="id_grupo" url="Base/Controllers/GetComboboxGrupos.php" class="form-control" style="width: 100%;">
                                            <option selected="selected" value="NULL">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Estado Matricula</label>
                                        <select id="estado_matricula" name="estado_matricula" class="form-control" style="width: 100%;">
                                            <option disabled="disabled" selected="selected" value="0">Ninguno</option>
                                            <option value="Normal">Normal</option>
                                            <option value="Condicionado">Condicionada</option>
                                            <option value="Suspendido">Suspendida</option>
                                            <option value="Retirado">Retirada</option>
                                            <option value="Finalizado">Finalizada</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label>Valor Matricula</label>
                                        <input type="number" name="valor_matricula" id="valor_matricula" value="0" maxlength="24" required="required" class="form-control" readonly="readonly">
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Valor Pagado</label>
                                        <input type="number" name="valorpagado_matricula" id="valorpagado_matricula" value="0" maxlength="24" required="required" class="form-control" disabled="disabled" >
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Valor Deuda</label>
                                        <input type="number" name="valordeuda_matricula" id="valordeuda_matricula" value="0" maxlength="24" required="required" class="form-control" disabled="disabled" >
                                    </div>
                                    <div class="col-sm-3">
                                        <label title="Codigo del Matricula">Codigo</label>
                                        <input type="text" id="id_matricula" name="id_matricula" readonly="readonly" value="" class="form-control" maxlength="30" onfocus="setIdMatricula();" /> 
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 20px;">
                            <div class="col-sm-6">
                                <center>
                                    <button type="button" id="save" name="save"  action="insertorupdate" save="true" onclick="GrabarMatricula(this);" class="btn btn-primary" >Grabar</button>        
                                </center>
                            </div>
                            <div class="col-sm-6">
                                <center>
                                    <button type="reset" id="reset" name="reset" class="btn btn-success">Nuevo</button> 
                                </center>
                            </div>
                        </div>
                    </div>
                </form>
                <form id="FormMatAsignatura" method="POST" autocomplete="off" url="Base/Controllers/MatriculaAsignaturasController.php" model="MatriculaAsignaturasApp" do="insertorupdate">
                    <input type="hidden" name="id_matricula" id="id_matricula" value="" required="required">
                    <button type="button" id="save" name="save" style="display: none; visibility: hidden;" action="insertorupdate" save="true" onclick="GrabarMatricula(this);" class="btn btn-primary" >Grabar</button>        
                </form>
            </div>
        </div>

        <div class="panel panel-primary" style="width: 80% !important;">
            <div class="panel-heading">Listado de Matriculas</div>
            <div class="panel-body">
                <div class="table-responsive" >
                    <table style="width: 100% !Important;" name="dataTable0" id="dataTable0" border="1" class="table table-striped table-hover table-form" model="MatriculasApp" url="Base/Controllers/GetDataTableMatriculas.php" >
                        <thead id="thead_dataTable0">
                            <tr headrow="true">
                                <th style="width: 10%;" title="Codigo de Matricula">Codigo</th>
                                <th style="width: 45%;">Nombre Estudiante</th>
                                <th style="width: 5%;" title="Escuela">Esc.</th>
                                <th style="width: 5%;" title="Sede">Sed.</th>
                                <th style="width: 5%;" title="Jornada">Jor.</th>
                                <th style="width: 5%;" title="Programa">Pro.</th>
                                <th style="width: 5%;" title="Grado">Gra.</th>
                                <th style="width: 5%;" title="Grupo">Gru.</th>
                                <th style="width: 5%;" title="Año Academico">Año</th>
                                <th style="width: 10%; min-width: 98px !important;"><i class="glyphicon glyphicon-asterisk"></i></th>
                            </tr>
                        </thead>
                        <tbody id="tbody_dataTable0">
                            <tr id="samplerow" samplerow="true" style="display: none;">
                                <td> <label>{{id_matricula}}</label> </td>
                                <td> <label>{{nombrecompleto_estudiante}}</label> </td>
                                <td> <label>{{id_escuela}}</label> </td>
                                <td> <label>{{id_sede}}</label> </td>
                                <td> <label>{{id_jornada}}</label> </td>
                                <td> <label>{{id_programa}}</label> </td>
                                <td> <label>{{numgrado_programa}}</label> </td>
                                <td> <label>{{id_grupo}}</label> </td>
                                <td> <label>{{id_periodo}}</label> </td>
                                <td>
                                    <form id="Matricula{{id_matricula}}" name="Matricula{{id_matricula}}" method="POST" autocomplete="off" url="Base/Controllers/MatriculasController.php"  model="MatriculasApp" findBy="id_matricula" statusfield="status_matricula">
                                        <input type="hidden"  editable="false" name="id_matricula" id="id_matricula" value="{{id_matricula}}" >
                                        <input type="hidden"  editable="false" name="status_matricula" id="status_matricula" value="1" >
                                        <button type="button" name="EditarFila" id="EditarFila" class="btn btn-xs btn-warning  icon-button" onclick="Edit(this);"><i class="glyphicon glyphicon-edit"></i></button>
                                        <button type="button" name="EliminarFila" id="EliminarFila" class="btn btn-xs btn-danger  icon-button" onclick="DeleteItem(this);"><i class="glyphicon glyphicon-remove"></i></button>
                                        <button type="button" name="MatriculasAsignaturas" id="MatriculasAsignaturas" class="btn btn-xs btn-default icon-button" onclick="FormMatriculaAsignaturas(this);"  title="Matricular Asignaturas"><i class="glyphicon glyphicon-check"></i></button>
                                    </form>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="datatables/js/dataTables.bootstrap.js"></script>
        <script type="text/javascript" src="datatables/js/jquery.dataTables.min.js"></script>

    </body>
</html>