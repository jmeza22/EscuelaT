<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Matricula Manual</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="description" content="Registro de Matriculas"/>
        <meta name="author" content="Jose Meza"/>
        <meta name="ProjectName" content="EscuelaT"/>
        <link href="css/styles.css" rel="stylesheet" />
        <!-- Bootstrap Core CSS -->
        
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="bootstrap/css/sb-admin-2.css" rel="stylesheet" type="text/css"/>
        
        <link href="datatables/css/jquery.dataTables.css" rel="stylesheet" type="text/css"/>
        <link href="fontawesome/css/font-awesome.css" rel="stylesheet" type="text/css"/>
        <link href="fontawesome/css/all.css" rel="stylesheet" type="text/css"/>


        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/jquery-ui.js"></script>
        <script type="text/javascript" src="js/Validator.js"></script>
        <script type="text/javascript" src="js/localStorageData.js"></script>
        <script type="text/javascript" src="js/setWebServicePath.js"></script>
        <script type="text/javascript" src="js/JsMaxFramework.js"></script>
        <script type="text/javascript" src="js-forms/Matriculas.js"></script>
    </head>
    <body>

        <div class="card shadow card-primary" style="width: 90% !important;">
            <div class="card-header">Matricula Manual</div>
            <div class="card-body">

                <form style="width: 100% !Important;" name="form0" id="form0"  method="POST" autocomplete="off" url="Base/Controllers/MatriculasController.php" model="MatriculasApp" findBy="id_matricula" statusfield="status_matricula" mainform="true" > 
                    <input type="hidden" name="status_matricula" id="status_matricula" value="1" >
                    <div>
                        <div class="card shadow">
                            <div class="card-header">Estudiante</div>
                            <div class="card-body" >
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label>Codigo</label>
                                        <input type="text" name="id_estudiante" id="id_estudiante" value="" maxlength="24" required="required" class="form-control" url="Base/Controllers/FindEstudiantesController.php" model="ObservadorEstudianteApp">
                                    </div>
                                    <div class="col-sm-9">
                                        <label>Nombre del Estudiante</label>
                                        <input type="text" name="nombrecompleto_estudiante" id="nombrecompleto_estudiante" value="" maxlength="200" class="form-control" title="Nombre del Estudiante" readonly="readonly" >
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card shadow">
                            <div class="card-header">Datos de Matricula</div>
                            <div class="card-body" >
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label>Sede</label>
                                        <select id="id_sede" name="id_sede" required="required" model="SedesApp" colname="nombre_sede" colvalue="id_sede" url="Base/Controllers/GetComboboxSedes.php" class="form-control" style="width: 100%;" onchange="onChangeSede();">
                                            <option selected="selected" value="">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Jornada</label>
                                        <select id="id_jornada" name="id_jornada" required="required" model="JornadasApp" colname="nombre_jornada" colvalue="id_jornada" url="Base/Controllers/GetComboboxJornadas.php" class="form-control" style="width: 100%;">
                                            <option selected="selected" value="">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Programa</label>
                                        <select id="id_programa" name="id_programa" list="id_programa" required="required" model="ProgramasApp" colname="nombre_programa" colvalue="id_programa" url="Base/Controllers/GetComboboxProgramas.php" class="form-control" style="width: 100%;" onchange="onChangePrograma(); setNameFromDataList(this, null, 'valor_matricula'); CalcularValores();">
                                            <option selected="selected" value="">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Plan Estudios</label>
                                        <select id="id_planestudio" name="id_planestudio" required="required" model="PlanEstudiosApp" colname="id_planestudio" colvalue="nombre_planestudio" url="Base/Controllers/GetComboboxPlanEstudios.php" class="form-control" style="width: 100%;" onchange="onChangePlanEstudios();">
                                            <option selected="selected" value="">Ninguna</option>
                                        </select>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label>A침o</label>
                                        <select id="id_periodo" name="id_periodo" required="required" model="PeriodosAnualesApp" colname="id_periodo" colvalue="id_periodo" url="Base/Controllers/GetComboboxPeriodos.php" class="form-control" style="width: 100%;" onchange="setFindbyTable();">
                                            <option selected="selected" value="">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Grado</label>
                                        <select id="numgrado_programa" name="numgrado_programa"  required="required"  model="PlanEstudioDetalleApp" colname="numgrado_programa" colvalue="numgrado_programa" url="Base/Controllers/GetComboboxGrados.php" class="form-control" style="width: 100%;" onchange="onChangeGrado();">
                                            <option selected="selected" value="">Ninguno</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Grupo</label>
                                        <select id="id_grupo" name="id_grupo" required="required" model="GruposApp" colname="id_grupo" colvalue="id_grupo" url="Base/Controllers/GetComboboxGrupos.php" class="form-control" style="width: 100%;" onchange="setFindbyTable();">
                                            <option selected="selected" value="">Ninguna</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Estado Matricula</label>
                                        <select id="estado_matricula" name="estado_matricula" class="form-control" style="width: 100%;">
                                            <option disabled="disabled" selected="selected" value="0">Ninguno</option>
                                            <option value="Normal">Normal</option>
                                            <option value="Condicionado">Condicionada</option>
                                            <option value="Suspendido">Suspendida</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label>Valor Matricula</label>
                                        <input type="number" name="valor_matricula" id="valor_matricula" value="0" maxlength="24" class="form-control" readonly="readonly">
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Valor Pagado</label>
                                        <input type="number" name="valorpagado_matricula" id="valorpagado_matricula" value="0" maxlength="24" class="form-control" disabled="disabled" >
                                    </div>
                                    <div class="col-sm-3">
                                        <label>Valor Deuda</label>
                                        <input type="number" name="valordeuda_matricula" id="valordeuda_matricula" value="0" maxlength="24" class="form-control" disabled="disabled" >
                                    </div>
                                    <div class="col-sm-3">
                                        <label title="Codigo del Matricula">Codigo</label>
                                        <input type="text" id="id_matricula" name="id_matricula" readonly="readonly" value="" class="form-control" maxlength="30" onfocus="" /> 
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 20px;">
                            <div class="col-sm-4">
                                <center>
                                    <button type="button" id="save" name="save"  action="insertorupdate" save="true" class="btn btn-primary" onclick="GrabarMatricula();" style="width: 100px;">Grabar</button>        
                                </center>
                            </div>
                            <div class="col-sm-4">
                                <center>
                                    <button type="reset" id="reset" name="reset" class="btn btn-success" onclick="resetMatricula();" style="width: 100px;">Nuevo</button> 
                                </center>
                            </div>
                            <div class="col-sm-4">
                                <center>
                                    <button type="button" id="listing" name="listing" class="btn btn-secondary" onclick="LoadTable();" style="width: 100px;">Listar</button> 
                                </center>
                            </div>
                        </div>
                    </div>
                </form>
                <form id="FormMatAsignatura" method="POST" autocomplete="off" url="Base/Controllers/MatriculaAsignaturasController.php" model="MatriculaAsignaturasApp" do="insertorupdate">
                    <input type="hidden" id="automatic" name="automatic" value="true" maxlength="5" /> 
                    <input type="hidden" name="id_matricula" id="id_matricula" value="" required="required">
                    <button type="button" id="save" name="save" style="display: none; visibility: hidden;" action="insertorupdate" save="true" onclick="GrabarMatricula(this);" class="btn btn-primary" >Grabar</button>        
                </form>
            </div>
        </div>

        <div class="card" style="width: 90% !important;">
            <div class="card-header">Listado de Matriculas</div>
            <div class="card-body">
                <div class="table-responsive" >
                    <table style="width: 100% !Important;" name="dataTable0" id="dataTable0" border="1" class="table table-striped table-hover table-form" model="MatriculasApp" url="Base/Controllers/GetDataTableMatriculas.php" ordertable="true" tableorderby="0" tableordering="desc" >
                        <thead id="thead_dataTable0">
                            <tr headrow="true">
                                <th columntype="html" style="width: 10%;" title="Codigo de Matricula">Codigo</th>
                                <th columntype="html" style="width: 48% !important; min-width: 400px !important;">Nombre Estudiante</th>
                                <th columntype="html" style="width: 5%;" title="Escuela">Esc.</th>
                                <th columntype="html" style="width: 5%;" title="Sede">Sed.</th>
                                <th columntype="html" style="width: 5%;" title="Jornada">Jor.</th>
                                <th columntype="html" style="width: 5%;" title="Programa">Pro.</th>
                                <th columntype="html-num" style="width: 5%;" title="Grado">Gra.</th>
                                <th columntype="html" style="width: 5%;" title="Grupo">Gru.</th>
                                <th columntype="html-num" style="width: 5%;" title="A침o Academico">A침o</th>
                                <th columntype="html" style="width: 7%; min-width: 120px !important;">Opci칩n</th>
                            </tr>
                        </thead>
                        <tbody id="tbody_dataTable0">
                            <tr id="samplerow" samplerow="true" style="display: none;">
                                <td> <label>{{id_matricula}}</label> </td>
                                <td> <label>{{nombrecompleto_estudiante}}</label> </td>
                                <td> <label>{{id_escuela}}</label> </td>
                                <td> <label>{{id_sede}}</label> </td>
                                <td> <label>{{id_jornada}}</label> </td>
                                <td> <label>{{id_programa}}</label> </td>
                                <td> <label>{{numgrado_programa}}</label> </td>
                                <td> <label>{{id_grupo}}</label> </td>
                                <td> <label>{{id_periodo}}</label> </td>
                                <td>
                                    <form id="Matricula{{id_matricula}}" name="Matricula{{id_matricula}}" method="POST" autocomplete="off" url="Base/Controllers/MatriculasController.php" action="Base/Controllers/ReportesController.php" model="MatriculasApp" findBy="id_matricula" statusfield="status_matricula" target="_blank">
                                        <input type="hidden" name="id_matricula" id="id_matricula" value="{{id_matricula}}" >
                                        <input type="hidden" name="id_estudiante" id="id_estudiante" value="{{id_estudiante}}" >
                                        <input type="hidden" name="id_periodo" id="id_periodo" value="{{id_periodo}}" >
                                        <input type="hidden" name="id_programa" id="id_programa" value="{{id_programa}}" >
                                        <input type="hidden" name="tipo_reporte" id="tipo_reporte" value="RecibosMatriculas" dusabled="disabled">
                                        <input type="hidden" name="status_matricula" id="status_matricula" value="1" >
                                        <button type="button" name="EditarFila" id="EditarFila" class="icon-button btn btn-xs btn-warning btn-circle" onclick="Edit(this);"><i class="fa fa-xs fa-edit" title="Editar"></i></button>
                                        <button type="button" name="EliminarFila" id="EliminarFila" action="delete" class="icon-button btn btn-xs btn-danger btn-circle" onclick="DeleteItem(this);"><i class="fa fa-xs fa-trash" title="Eliminar"></i></button>
                                        <button type="button" name="MatriculasAsignaturas" id="MatriculasAsignaturas" class="btn btn-xs btn-info icon-button" onclick="FormMatriculaAsignaturas(this);"  title="Matricular Asignaturas"><i class="glyphicon glyphicon-check"></i></button>
                                        <button type="button" name="ReporteMatricula" id="ReporteMatricula" class="icon-button btn btn-xs btn-secondary btn-circle" onclick="GenerarReciboMatricula(this);"  title="Ver Recibo de Matricula"><i class="glyphicon glyphicon-file"></i></button>
                                    </form>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="datatables/js/dataTables.bootstrap.js"></script>
        <script type="text/javascript" src="datatables/js/jquery.dataTables.min.js"></script>

    </body>
</html>